<html>

<head>
  <title>CleverBots::Variables</title>
</head>

<style>
b.code {
        font-style:italic;
        font-weight:normal;
        line-height:130%;
        margin-left:50;
        }
b.comment {
        font-style:italic;
        font-weight:normal;
        color : #777777;
        }
b.title {
        font-weight:bold;
        font-size:16;
        }
</style>

<body>
<a name="vars"><h3>Переменные</h3></a>
<b class="title">Есть 2 типа данных:</b><br>
- Указатели - в них хранится адрес объекта (танк, дерево, строение, и т.д.)<br>
- Числа - в них хранится какое-либо число, может принимать как целые, так и дробные значения.<br>
<br>
<b class="title">Правила объявления переменных:</b><br>
- Указатели :  <b class="code">var_name%</b><br>
- Числа     : <b class="code">var_name#</b><br>
<br>
При <u>первом</u> объявлении переменной следует указать ее тип.
По умолчанию тип является числовым. Т.е. строки<br>
<b class="code">var_name = value</b><b class="comment"> ; т.к. явно не указан тип, то переменная автоматически становится числом</b><br>
<b class="code">var_name# = value</b><b class="comment"> ; здесь явно указан тип переменной - числовой</b><br>
абсолютно идентичны.<br><br>
Указывать тип переменной можно только один раз, далее ее тип будет определяться автоматически :<br>
<b class="code">entity% = ScanRadar ( 1000 )</b><b class="comment"> ; явно указываем тип переменной - указатель</b><br>
<b class="code">If TypeEntity ( entity ) = 1</b><b class="comment"> ; здесь не указываем тип, он определяется по ранее объявленному</b><br>
<b class="code">...</b><br>
<b class="code">End If</b><br>
<br><a name="ops"><hr></a>
<h3>Операторы</h3>
<b class="title">- Оператор присваивания: "="</b><br>
<b class="code">var_name = value</b><b class="comment"> ; значение value заносится в переменную var_name<br></b>
<br>
<b class="title">- Арифметические операторы: "+", "-", "/", "*", "Mod" ;<br></b>
<b class="code">var_name = value1 + value2 * ( value3 / value4 )<br></b>
<br>
<b class="title">- Условные операторы: "<", ">", "=", "<=", ">=", "<>", "And", "Or", "Not" ;<br></b>
<br>
<b class="title">Приоритет операторов :</b>
<table border=1>
<tr><td width=200><b>Операторы</b></td><td width=100><b>Приоритет</b></td></tr>
<tr><td><b>Not</b>, унарный минус</td><td>Самый высокий</td></tr>
<tr><td><b>And</b>, <b>Or</b></td><td>-</td></tr>
<tr><td> *, /</td><td>-</td></tr>
<tr><td> +, -</td><td>-</td></tr>
<tr><td> =, <, >, <=, >=, <></td><td>Самый низкий</td></tr>
</table>
<br>
<b style="title">Замечание:<br></b>
Для работы с указателями определена константа <b>NULL</b>, эта константа указывает в "никуда", т.е. на несуществующий объект.<br>
<b class="code">var_name% = NULL</b><b class="comment"> ; теперь указатель var_name указывает в "никуда"<br></b>
<br><a name="exp"><hr></a>
<h3>Условия</h3><br>
<b class="title">Синтаксис:</b><br>
<br>
<table border=1>
<tr><td align="center">
Вариант №1
</td><td align="center">Вариант №2</td>
<tr><td width=200>
<b class="code">If …</b><br>
<b class="code">   …<br></b>
<b class="code">[Else]<br></b>
<b class="code">   […]<br></b>
<b class="code">EndIf<br></b>
</td>
<td width=200>
<b class="code">If …</b><br>
<b class="code">   …<br></b>
<b class="code">[Else]<br></b>
<b class="code">   […]<br></b>
<b class="code">End If<br></b>
</td></tr>
</table>
<br>Возможна запись в одну строчку:<br>

<b class="code">If …  … [Else  … ]  EndIf</b><br>
Пример :<br>
<b class="code">If  a>b   MaxValue=a   Else   MaxValue=b   EndIf</b><br>

<br><a name="funcs"><hr></a>
<h3>Функции</h3>
<a name="funcs_radar"><b class="title">Работа с радаром :</b><br></a>
- <b>PositionRadar</b> ( x, y, z ) - позиционирует радар в пространстве.<br>
- <b>TurnRadar</b> ( pitch, yaw, roll ) - повернуть радар на определенные углы.<br>
- <b>RotateRadar</b> ( pitch, yaw, roll ) - задать ориентацию радара в пространстве.<br>
- <b>MoveRadar</b> ( x, y, z ) - сдвинуть радар относительно локальных координат.<br>
- <b>TranslateRadar</b> ( x, y, z ) - сдвинуть радар относительно глобальных координат.<br>
- <b>ScanRadar</b> ( range ) - просканировать пространство по направлению радара.<br>
- <b>PointRadar</b> ( entity ) - направляет радар на объект.<br>
<br>
<b class="title">Работа с объектами :<br></b>
- <b>EntityX</b> ( entity ), <b>EntityY</b> ( entity ), <b>EntityZ</b> ( entity ) - возвращает соответствующие координаты объекта в пространстве.<br>
- <b>EntityPitch</b> ( entity ), <b>EntityYaw</b> ( entity ), <b>EntityRoll</b> ( entity ) - возвращает соответствующие углы объекта в пространстве.<br>
- <b>ТypeEntity</b> ( entity ) - возвращает число, обозначающее тип объекта.<br>
<table style='margin-left:100'><tr><td>
1 - враг;<br>
2 - союзник;<br>
3 - земля;<br>
4 - строение;<br>
5 - дерево.</td></tr></table>
- <b>EntityVisible</b> ( src_entity, dest_entity ) - определяет видим ли один объект другим.<br>
- <b>EntityDistance</b> ( src_entity, dest_entity ) - возвращает расстояние между объектами.<br>
- <b>DeltaYaw</b> ( src_entity, dest_entity ) - угол, на который надо повернуть объект по оси OY, чтобы направить его на цель. <br>
- <b>DeltaPitch</b> ( src_entity, dest_entity ) - угол, на который надо повернуть объект по оси OX, чтобы направить его на цель.<br>
<br>
<b class="title">Работа с коллизиями (столкновениями) :</b><br>
- <b>CollisionX</b> ( entity ), <b>CollisionY</b> ( entity ), <b>CollisionZ</b> ( entity ) - возвращает соответствующую координату последнего места столкновения объекта.<br>
- <b>CollisionNX</b> ( entity ), <b>CollisionNY</b> ( entity ), <b>CollisionNZ</b> ( entity ) - возвращает соответствующую компоненту нормали последнего места столкновения объекта.<br>
<br>
<b class="title">Математика :</b><br>
- <b>Abs</b> ( x ) - возвращает модуль числа.<br>
- <b>Sqr</b> ( x ) - возвращает квадратный корень их числа.<br>
- <b>Sqn</b> ( x ) - возвращает знак числа.<br>
- <b>Min</b> ( x, y ) - возвращает минимальное число.<br>
- <b>Max</b> ( x, y ) - возвращает максимальное число.<br>
- <b>Sin</b> ( x ) - возвращает синус угла.<br>
- <b>Cos</b> ( x ) - возвращает косинус числа.<br>
- <b>Rnd</b> ( x, y ) - возвращает случайное дробное число.<br>
- <b>Rand</b> ( x, y ) - возвращает случайное целое число.<br>
<br><a name="intvars"><hr></a>
<h3>Встроенные переменные</h3>
<b class="title">Управление своим танком</b><br>
- <b>TurnCorpus</b> - указывает направление поворота корпуса танка : +1 - налево, +0.5 - на половину угла поворота налево, -1 - направо.<br>
- <b>TurnGun</b> - указывает направление поднятия/опускания ствола. +1 - вверх, +0.5 - на половину угла вверх, -1 - вниз.<br>
- <b>TurnTurret</b> - указывает направление поворота башни : +1 - налево, +0.5 - на половину угла поворота налево, -1 - направо.<br>
- <b>Move</b> - указывает ускорение движения : +1-полный вперед, 0 - стоять, -1 - полный назад.<br>
- <b>Fire</b> - указывает на команду огня : 1 - огонь, 0 - не стрелять.<br>
<br>
<b class="title">Обработка столкновений</b><br>
- <b>Collided</b> - указатель на танк, с которым произошло столкновение.<br>
- <b>CollidedWalls</b> - указатель на внешнюю стену ( она проходит по всему периметру территории ), с которой произошло столкновение.<br>
- <b>CollidedStruct</b> - указатель на препятствие, с которым произошло столкновение.<br>
<br>
<b class="title">Указатели на модели</b><br>
- <b>Radar</b> - указатель на радар.<br>
- <b>Turret</b> - указатель на башню.<br>
- <b>Gun</b> - указатель на ствол.<br>
- <b>Corpus</b> - указатель на корпус танка.<br>
- <b>Center</b> - указатель на геометрический центр территории.<br>
<br>
<b class="title">Работа со стволом</b><br>
- <b>TrunkX</b> - координата ствола по оси X.<br>
- <b>TrunkY</b> - координата ствола по оси Y.<br>
- <b>TrunkZ</b> - координата ствола по оси Z.<br>
- <b>TrunkPitch</b> - угол ствола с осью X.<br>
- <b>TrunkYaw</b> - угол ствола с осью Y.<br>
- <b>TrunkRoll</b> - угол ствола с осью Z.<br>
<br>
<b class="title">Работа с башней</b><br>
- <b>TurretX</b> - координата башни по оси X.<br>
- <b>TurretY</b> - координата башни по оси Y.<br>
- <b>TurretZ</b> - координата башни по оси Z.<br>
- <b>TurretPitch</b> - угол башни с осью X.<br>
- <b>TurretYaw</b> - угол башни с осью Y.<br>
- <b>TurretRoll</b> - угол башни с осью Z.<br>
<br>
<b class="title">Работа с корпусом танка</b><br>
- <b>CaseX</b> - координата корпуса танка по оси X.<br>
- <b>CaseY</b> - координата корпуса танка по оси Y.<br>
- <b>CaseZ</b> - координата корпуса танка по оси Z.<br>
- <b>CasePitch</b> - угол корпуса танка с осью X.<br>
- <b>CaseYaw</b> - угол корпуса танка с осью Y.<br>
- <b>CaseRoll</b> - угол корпуса танка с осью Z.<br>
<br><hr>
<center><b style="font-size:12;">---<br>Funny, 2005<br></b></center>
<b style="font-size:0;letter-spacing:0;line-height:0;">
</body>

</html>